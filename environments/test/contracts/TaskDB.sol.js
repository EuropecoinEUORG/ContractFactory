// Factory "morphs" into a Pudding class.
// The reasoning is that calling load in each context
// is cumbersome.

(function() {

  var contract_data = {
    abi: [{"constant":true,"inputs":[],"name":"count","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"_id","type":"uint256"}],"name":"acceptTask","outputs":[],"type":"function"},{"constant":true,"inputs":[{"name":"_id","type":"uint256"}],"name":"getTask","outputs":[{"name":"_name","type":"string"},{"name":"_summary","type":"string"},{"name":"_accepted","type":"bool"},{"name":"_eth","type":"uint256"},{"name":"_shares","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"_id","type":"uint256"},{"name":"_amount","type":"uint256"}],"name":"contributeEth","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"_id","type":"uint256"},{"name":"_amount","type":"uint256"}],"name":"contributeShares","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"_name","type":"string"},{"name":"_summary","type":"string"}],"name":"makeTask","outputs":[],"type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"tasks","outputs":[{"name":"name","type":"string"},{"name":"summary","type":"string"},{"name":"accepted","type":"bool"},{"name":"eth","type":"uint256"},{"name":"shares","type":"uint256"}],"type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":true,"inputs":[{"name":"_id","type":"uint256"}],"name":"isTaskAccepted","outputs":[{"name":"","type":"bool"}],"type":"function"},{"constant":false,"inputs":[{"name":"_newOwner","type":"address"}],"name":"changeOwner","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"_id","type":"uint256"},{"name":"_name","type":"string"},{"name":"_summary","type":"string"}],"name":"updateTask","outputs":[],"type":"function"},{"constant":true,"inputs":[{"name":"_id","type":"uint256"}],"name":"getTaskBalance","outputs":[{"name":"_ether","type":"uint256"},{"name":"_shares","type":"uint256"}],"type":"function"},{"constant":true,"inputs":[{"name":"_id","type":"uint256"}],"name":"hasTask","outputs":[{"name":"","type":"bool"}],"type":"function"},{"inputs":[],"type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"taskId","type":"uint256"},{"indexed":true,"name":"amount","type":"uint256"},{"indexed":true,"name":"when","type":"uint256"}],"name":"ReceivedShares","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"taskId","type":"uint256"},{"indexed":true,"name":"amount","type":"uint256"},{"indexed":true,"name":"when","type":"uint256"}],"name":"ReceivedEther","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"id","type":"uint256"},{"indexed":true,"name":"when","type":"uint256"}],"name":"TaskAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"id","type":"uint256"},{"indexed":true,"name":"when","type":"uint256"}],"name":"TaskUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_previousOwner","type":"address"},{"indexed":true,"name":"_newOwner","type":"address"},{"indexed":false,"name":"_now","type":"uint256"}],"name":"OwnerChanged","type":"event"}],
    binary: "606060405260008054600160a060020a03191633179055610f20806100246000396000f3606060405236156100a35760e060020a600035046306661abd81146100a55780631bf6912d146100bb5780631d65e77e146100f457806335960812146102145780635b28e445146102635780636d2d4bac146102b25780638d9776721461036c5780638da5cb5b146103fb578063a39c5f3e1461040d578063a6f9dae114610444578063c72ef41f14610465578063cacb4f1614610521578063f125c1dc1461056d575b005b6001545b60408051918252519081900360200190f35b6100a36004356001805482908110156100025750600052600080516020610ec083398151915260058202015460ff1615610c6357610002565b61057e6004356020604051908101604052806000815260200150602060405190810160405280600081526020015060006000600060006001600050878154811015610002575090819052600080516020610ea08339815191526005880290810154600080516020610ec0833981519152820154600080516020610f00833981519152830154600080516020610ee083398151915284018054604080516020600299841615610100026000190190931698909804601f8101839004830289018301909152808852919687967fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf7019560ff9590951694929091879190830182828015610cc95780601f10610c9e57610100808354040283529160200191610cc9565b6100a3600435602435600180548390811015610002575080546000829052600080516020610f0083398151915260058502015491839185908110156100025750505080820111610d7457610002565b6100a3600435602435600180548390811015610002575080546000829052600080516020610ea083398151915260058502015491839185908110156100025750505080820111610e0a57610002565b6040805160206004803580820135601f81018490048402850184019095528484526100a394919360249390929184019190819084018382808284375050604080516020601f8935808c0135918201839004830284018301909452808352979998604498929750929092019450925082915084018382808284375094965050505050505060018054808201808355600092908280158290116109da576005028160050283600052602060002091820191016109da9190610aaa565b6106606004356001805482908110156100025750600052600080516020610ec0833981519152600590910290810154600080516020610ea0833981519152820154600080516020610f00833981519152830154600080516020610ee08339815191528401937fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf7019260ff169185565b61077c600054600160a060020a031681565b6100a96004356000600160005082815481101561000257509052600080516020610ec083398151915260058202015460ff16610579565b6100a360043560005433600160a060020a039081169116146107b157610002565b60408051602060248035600481810135601f81018590048502860185019096528585526100a39581359591946044949293909201918190840183828082843750506040805160209735808a0135601f81018a90048a0283018a0190935282825296989760649791965060249190910194509092508291508401838280828437509496505050505050506001805484908110156100025750600052600080516020610ec083398151915260058402015460ff161561082e57610002565b6107986004356000600060006001600050848154811015610002575090525050600502600080516020610f00833981519152810154600080516020610ea0833981519152909101549091565b6100a960043560015481105b919050565b6040518080602001806020018681526020018581526020018481526020018381038352888181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156105f45780820380516001836020036101000a031916815260200191505b508381038252878181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f16801561064d5780820380516001836020036101000a031916815260200191505b5097505050505050505060405180910390f35b60408051908101849052606081018390526080810182905260a08082528654600260018216156101000260001901909116049082018190528190602082019060c0830190899080156106f35780601f106106c8576101008083540402835291602001916106f3565b820191906000526020600020905b8154815290600101906020018083116106d657829003601f168201915b5050838103825287546002600182161561010002600019019091160480825260209190910190889080156107685780601f1061073d57610100808354040283529160200191610768565b820191906000526020600020905b81548152906001019060200180831161074b57829003601f168201915b505097505050505050505060405180910390f35b60408051600160a060020a039092168252519081900360200190f35b6040805192835260208301919091528051918290030190f35b80600160a060020a0316600014156107c857610002565b604080516000544282529151600160a060020a038085169316917f4c37b24b600916176446859ec41fb06842ec1dfaeeb0bee28784b51f24b8c308919081900360200190a380600060006101000a815481600160a060020a030219169083021790555050565b816001600050848154811015610002576000918252600502600080516020610ee08339815191520190506000016000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106108bf57805160ff19168380011785555b506108ef9291505b8082111561097257600081556001016108ab565b828001600101855582156108a3579182015b828111156108a35782518260005055916020019190600101906108d1565b5050806001600050848154811015610002576000918252600502600080516020610ee08339815191520190506001016000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061097657805160ff19168380011785555b506109a69291506108ab565b5090565b82800160010185558215610966579182015b82811115610966578251826000505591602001919060010190610988565b5050604051429084907fdab70597d373cb79eb5e0bd426044d0f0cc23546a038e03b64d9e3a4407f074c90600090a3505050565b505050905060a0604051908101604052808481526020018381526020016000815260200160008152602001600081526020015060016000508281548110156100025790600052602060002090600502016000506000820151816000016000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10610b4557805160ff19168380011785555b50610b759291506108ab565b505060028101805460ff1916905560006003820181905560048201556001015b8082111561097257600060008201600050805460018160011615610100020316600290046000825580601f10610b0957505b5060018201600050805460018160011615610100020316600290046000825580601f10610b275750610a8a565b601f016020900490600052602060002090810190610adc91906108ab565b601f016020900490600052602060002090810190610a8a91906108ab565b82800160010185558215610a7e579182015b82811115610a7e578251826000505591602001919060010190610b57565b50506020820151816001016000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10610bd457805160ff19168380011785555b50610c049291506108ab565b82800160010185558215610bc8579182015b82811115610bc8578251826000505591602001919060010190610be6565b505060408281015160028301805460ff1916909117905560608301516003830155608092909201516004919091015551429082907f8baba1305291ce5789b342eddc456ab24d87be77eba1ead28ecabf369ffa01de90600090a3505050565b600160016000508281548110156100025750506000819052600591909102600080516020610ec083398151915201805460ff19169091179055565b820191906000526020600020905b815481529060010190602001808311610cac57829003601f168201915b5050604080518954602060026001831615610100026000190190921691909104601f8101829004820283018201909352828252959a50948994509092508401905082828015610d595780601f10610d2e57610100808354040283529160200191610d59565b820191906000526020600020905b815481529060010190602001808311610d3c57829003601f168201915b50505050509350955095509550955095505091939590929450565b600180548390811015610002575060005260058202600080516020610ec0833981519152015460ff1615610da757610002565b80600160005083815481101561000257600091825260058102600080516020610f00833981519152018054909301909255604051429250839185917f4afc0c4a7e859097234668139d50da87bb3c04c5c26fc8ed8d138ef6e764de9a9190a45050565b600180548390811015610002575060005260058202600080516020610ec0833981519152015460ff1615610e3d57610002565b80600160005083815481101561000257600091825260058102600080516020610ea0833981519152018054909301909255604051429250839185917f870a98f3ad1c16abc2a2adc6687d763aefcb76bb03f35c9d93d29bd55cdc310d9190a4505056b10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cfab10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf8b10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf6b10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf9",
    unlinked_binary: "606060405260008054600160a060020a03191633179055610f20806100246000396000f3606060405236156100a35760e060020a600035046306661abd81146100a55780631bf6912d146100bb5780631d65e77e146100f457806335960812146102145780635b28e445146102635780636d2d4bac146102b25780638d9776721461036c5780638da5cb5b146103fb578063a39c5f3e1461040d578063a6f9dae114610444578063c72ef41f14610465578063cacb4f1614610521578063f125c1dc1461056d575b005b6001545b60408051918252519081900360200190f35b6100a36004356001805482908110156100025750600052600080516020610ec083398151915260058202015460ff1615610c6357610002565b61057e6004356020604051908101604052806000815260200150602060405190810160405280600081526020015060006000600060006001600050878154811015610002575090819052600080516020610ea08339815191526005880290810154600080516020610ec0833981519152820154600080516020610f00833981519152830154600080516020610ee083398151915284018054604080516020600299841615610100026000190190931698909804601f8101839004830289018301909152808852919687967fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf7019560ff9590951694929091879190830182828015610cc95780601f10610c9e57610100808354040283529160200191610cc9565b6100a3600435602435600180548390811015610002575080546000829052600080516020610f0083398151915260058502015491839185908110156100025750505080820111610d7457610002565b6100a3600435602435600180548390811015610002575080546000829052600080516020610ea083398151915260058502015491839185908110156100025750505080820111610e0a57610002565b6040805160206004803580820135601f81018490048402850184019095528484526100a394919360249390929184019190819084018382808284375050604080516020601f8935808c0135918201839004830284018301909452808352979998604498929750929092019450925082915084018382808284375094965050505050505060018054808201808355600092908280158290116109da576005028160050283600052602060002091820191016109da9190610aaa565b6106606004356001805482908110156100025750600052600080516020610ec0833981519152600590910290810154600080516020610ea0833981519152820154600080516020610f00833981519152830154600080516020610ee08339815191528401937fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf7019260ff169185565b61077c600054600160a060020a031681565b6100a96004356000600160005082815481101561000257509052600080516020610ec083398151915260058202015460ff16610579565b6100a360043560005433600160a060020a039081169116146107b157610002565b60408051602060248035600481810135601f81018590048502860185019096528585526100a39581359591946044949293909201918190840183828082843750506040805160209735808a0135601f81018a90048a0283018a0190935282825296989760649791965060249190910194509092508291508401838280828437509496505050505050506001805484908110156100025750600052600080516020610ec083398151915260058402015460ff161561082e57610002565b6107986004356000600060006001600050848154811015610002575090525050600502600080516020610f00833981519152810154600080516020610ea0833981519152909101549091565b6100a960043560015481105b919050565b6040518080602001806020018681526020018581526020018481526020018381038352888181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156105f45780820380516001836020036101000a031916815260200191505b508381038252878181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f16801561064d5780820380516001836020036101000a031916815260200191505b5097505050505050505060405180910390f35b60408051908101849052606081018390526080810182905260a08082528654600260018216156101000260001901909116049082018190528190602082019060c0830190899080156106f35780601f106106c8576101008083540402835291602001916106f3565b820191906000526020600020905b8154815290600101906020018083116106d657829003601f168201915b5050838103825287546002600182161561010002600019019091160480825260209190910190889080156107685780601f1061073d57610100808354040283529160200191610768565b820191906000526020600020905b81548152906001019060200180831161074b57829003601f168201915b505097505050505050505060405180910390f35b60408051600160a060020a039092168252519081900360200190f35b6040805192835260208301919091528051918290030190f35b80600160a060020a0316600014156107c857610002565b604080516000544282529151600160a060020a038085169316917f4c37b24b600916176446859ec41fb06842ec1dfaeeb0bee28784b51f24b8c308919081900360200190a380600060006101000a815481600160a060020a030219169083021790555050565b816001600050848154811015610002576000918252600502600080516020610ee08339815191520190506000016000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106108bf57805160ff19168380011785555b506108ef9291505b8082111561097257600081556001016108ab565b828001600101855582156108a3579182015b828111156108a35782518260005055916020019190600101906108d1565b5050806001600050848154811015610002576000918252600502600080516020610ee08339815191520190506001016000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061097657805160ff19168380011785555b506109a69291506108ab565b5090565b82800160010185558215610966579182015b82811115610966578251826000505591602001919060010190610988565b5050604051429084907fdab70597d373cb79eb5e0bd426044d0f0cc23546a038e03b64d9e3a4407f074c90600090a3505050565b505050905060a0604051908101604052808481526020018381526020016000815260200160008152602001600081526020015060016000508281548110156100025790600052602060002090600502016000506000820151816000016000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10610b4557805160ff19168380011785555b50610b759291506108ab565b505060028101805460ff1916905560006003820181905560048201556001015b8082111561097257600060008201600050805460018160011615610100020316600290046000825580601f10610b0957505b5060018201600050805460018160011615610100020316600290046000825580601f10610b275750610a8a565b601f016020900490600052602060002090810190610adc91906108ab565b601f016020900490600052602060002090810190610a8a91906108ab565b82800160010185558215610a7e579182015b82811115610a7e578251826000505591602001919060010190610b57565b50506020820151816001016000509080519060200190828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10610bd457805160ff19168380011785555b50610c049291506108ab565b82800160010185558215610bc8579182015b82811115610bc8578251826000505591602001919060010190610be6565b505060408281015160028301805460ff1916909117905560608301516003830155608092909201516004919091015551429082907f8baba1305291ce5789b342eddc456ab24d87be77eba1ead28ecabf369ffa01de90600090a3505050565b600160016000508281548110156100025750506000819052600591909102600080516020610ec083398151915201805460ff19169091179055565b820191906000526020600020905b815481529060010190602001808311610cac57829003601f168201915b5050604080518954602060026001831615610100026000190190921691909104601f8101829004820283018201909352828252959a50948994509092508401905082828015610d595780601f10610d2e57610100808354040283529160200191610d59565b820191906000526020600020905b815481529060010190602001808311610d3c57829003601f168201915b50505050509350955095509550955095505091939590929450565b600180548390811015610002575060005260058202600080516020610ec0833981519152015460ff1615610da757610002565b80600160005083815481101561000257600091825260058102600080516020610f00833981519152018054909301909255604051429250839185917f4afc0c4a7e859097234668139d50da87bb3c04c5c26fc8ed8d138ef6e764de9a9190a45050565b600180548390811015610002575060005260058202600080516020610ec0833981519152015460ff1615610e3d57610002565b80600160005083815481101561000257600091825260058102600080516020610ea0833981519152018054909301909255604051429250839185917f870a98f3ad1c16abc2a2adc6687d763aefcb76bb03f35c9d93d29bd55cdc310d9190a4505056b10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cfab10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf8b10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf6b10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf9",
    address: "0x5e3135a1f6b9879cd52ad50fb750f220bb80b71a",
    generated_with: "2.0.6",
    contract_name: "TaskDB"
  };

  function Contract() {
    if (Contract.Pudding == null) {
      throw new Error("TaskDB error: Please call load() first before creating new instance of this contract.");
    }

    Contract.Pudding.apply(this, arguments);
  };

  Contract.load = function(Pudding) {
    Contract.Pudding = Pudding;

    Pudding.whisk(contract_data, Contract);

    // Return itself for backwards compatibility.
    return Contract;
  }

  Contract.new = function() {
    if (Contract.Pudding == null) {
      throw new Error("TaskDB error: Please call load() first before calling new().");
    }

    return Contract.Pudding.new.apply(Contract, arguments);
  };

  Contract.at = function() {
    if (Contract.Pudding == null) {
      throw new Error("TaskDB error: lease call load() first before calling at().");
    }

    return Contract.Pudding.at.apply(Contract, arguments);
  };

  Contract.deployed = function() {
    if (Contract.Pudding == null) {
      throw new Error("TaskDB error: Please call load() first before calling deployed().");
    }

    return Contract.Pudding.deployed.apply(Contract, arguments);
  };

  if (typeof module != "undefined" && typeof module.exports != "undefined") {
    module.exports = Contract;
  } else {
    // There will only be one version of Pudding in the browser,
    // and we can use that.
    window.TaskDB = Contract;
  }

})();
