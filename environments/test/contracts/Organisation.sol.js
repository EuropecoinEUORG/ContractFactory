// Factory "morphs" into a Pudding class.
// The reasoning is that calling load in each context
// is cumbersome.

(function() {

  var contract_data = {
    abi: [{"constant":false,"inputs":[{"name":"_name","type":"bytes32"}],"name":"addProposal","outputs":[],"type":"function"},{"constant":true,"inputs":[],"name":"proposalsCount","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":true,"inputs":[],"name":"tokenLedger","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":false,"inputs":[{"name":"_id","type":"uint256"},{"name":"_eth","type":"uint256"}],"name":"setProposalFund","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"_id","type":"uint256"},{"name":"_name","type":"bytes32"}],"name":"updateProposal","outputs":[],"type":"function"},{"constant":true,"inputs":[],"name":"eternalStorage","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":true,"inputs":[{"name":"_id","type":"uint256"}],"name":"getProposal","outputs":[{"name":"_name","type":"bytes32"},{"name":"_eth","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"_amount","type":"uint256"}],"name":"generateTokens","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"upgradedOrganisation_","type":"address"}],"name":"kill","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"_id","type":"uint256"}],"name":"fundProposal","outputs":[],"type":"function"},{"constant":true,"inputs":[{"name":"_account","type":"address"}],"name":"getBalance","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"inputs":[{"name":"_tokenLedger","type":"address"},{"name":"_eternalStorage","type":"address"}],"type":"constructor"}],
    binary: "6060604081815280610597833960a090525160805160008054600160a060020a0319908116841790915560018054909116821790555050610553806100446000396000f36060604052361561008d5760e060020a600035046306efe3b0811461008f5780630a9f46ad146101085780633886c95714610182578063460a7050146101945780635ba217711461021657806398ff9c5414610298578063c7f758a8146102aa578063ca01ba391461033b578063cbf0b0c01461039c578063e210f4b514610461578063f8b2cb4f146104da575b005b61008d6004356001547fadd3d815000000000000000000000000000000000000000000000000000000006060908152600160a060020a03919091166064526084829052735c9cf61e9fd7d11cef3f13c91e601d66a9c705d99063add3d8159060a4906000906044818660325a03f4156100025750505050565b61052f6001547fa1bfcaca000000000000000000000000000000000000000000000000000000006060908152600160a060020a0391909116606452600090735c9cf61e9fd7d11cef3f13c91e601d66a9c705d99063a1bfcaca906084906020906024818660325a03f4156100025750506040515191505090565b610538600054600160a060020a031681565b61008d6004356024356001547f2197b15b000000000000000000000000000000000000000000000000000000006060908152600160a060020a03919091166064908152608484905260a4839052735c9cf61e9fd7d11cef3f13c91e601d66a9c705d991632197b15b9160c491600091818660325a03f415610002575050505050565b61008d6004356024356001547f46002cad000000000000000000000000000000000000000000000000000000006060908152600160a060020a03919091166064908152608484905260a4839052735c9cf61e9fd7d11cef3f13c91e601d66a9c705d9916346002cad9160c491600091818660325a03f415610002575050505050565b610538600154600160a060020a031681565b61054b6004356001547fcfa38da7000000000000000000000000000000000000000000000000000000006060908152600160a060020a039190911660645260848290526000908190735c9cf61e9fd7d11cef3f13c91e601d66a9c705d99063cfa38da79060a4906040906044818660325a03f415610002575050604051805160209190910151909350915050915091565b61008d600435600080547fca01ba390000000000000000000000000000000000000000000000000000000060609081526064849052600160a060020a039091169163ca01ba39916084919060248183876161da5a03f1156100025750505050565b61008d6004356000805460e060020a6370a0823102606090815230600160a060020a03908116606452909116906370a082319060849060209060248187876161da5a03f11561000257505060408051805184547fa9059cbb000000000000000000000000000000000000000000000000000000008352600160a060020a03808816600485015260248401839052935191959316935063a9059cbb92604480840193919291829003018183876161da5a03f1156100025750505081600160a060020a0316ff5b61008d6004356001547f674bb2fb000000000000000000000000000000000000000000000000000000006060908152600160a060020a03919091166064526084829052735c9cf61e9fd7d11cef3f13c91e601d66a9c705d99063674bb2fb9060a4906000906044818660325a03f4156100025750505050565b61052f6004356000805460e060020a6370a08231026060908152600160a060020a03808516606452909116906370a082319060849060209060248187876161da5a03f115610002575050604051519392505050565b50604051602090f35b600160a060020a03166060908152602090f35b505060408051f3",
    unlinked_binary: "6060604081815280610597833960a090525160805160008054600160a060020a0319908116841790915560018054909116821790555050610553806100446000396000f36060604052361561008d5760e060020a600035046306efe3b0811461008f5780630a9f46ad146101085780633886c95714610182578063460a7050146101945780635ba217711461021657806398ff9c5414610298578063c7f758a8146102aa578063ca01ba391461033b578063cbf0b0c01461039c578063e210f4b514610461578063f8b2cb4f146104da575b005b61008d6004356001547fadd3d815000000000000000000000000000000000000000000000000000000006060908152600160a060020a0391909116606452608482905273__ProposalsLibrary______________________9063add3d8159060a4906000906044818660325a03f4156100025750505050565b61052f6001547fa1bfcaca000000000000000000000000000000000000000000000000000000006060908152600160a060020a039190911660645260009073__ProposalsLibrary______________________9063a1bfcaca906084906020906024818660325a03f4156100025750506040515191505090565b610538600054600160a060020a031681565b61008d6004356024356001547f2197b15b000000000000000000000000000000000000000000000000000000006060908152600160a060020a03919091166064908152608484905260a483905273__ProposalsLibrary______________________91632197b15b9160c491600091818660325a03f415610002575050505050565b61008d6004356024356001547f46002cad000000000000000000000000000000000000000000000000000000006060908152600160a060020a03919091166064908152608484905260a483905273__ProposalsLibrary______________________916346002cad9160c491600091818660325a03f415610002575050505050565b610538600154600160a060020a031681565b61054b6004356001547fcfa38da7000000000000000000000000000000000000000000000000000000006060908152600160a060020a03919091166064526084829052600090819073__ProposalsLibrary______________________9063cfa38da79060a4906040906044818660325a03f415610002575050604051805160209190910151909350915050915091565b61008d600435600080547fca01ba390000000000000000000000000000000000000000000000000000000060609081526064849052600160a060020a039091169163ca01ba39916084919060248183876161da5a03f1156100025750505050565b61008d6004356000805460e060020a6370a0823102606090815230600160a060020a03908116606452909116906370a082319060849060209060248187876161da5a03f11561000257505060408051805184547fa9059cbb000000000000000000000000000000000000000000000000000000008352600160a060020a03808816600485015260248401839052935191959316935063a9059cbb92604480840193919291829003018183876161da5a03f1156100025750505081600160a060020a0316ff5b61008d6004356001547f674bb2fb000000000000000000000000000000000000000000000000000000006060908152600160a060020a0391909116606452608482905273__ProposalsLibrary______________________9063674bb2fb9060a4906000906044818660325a03f4156100025750505050565b61052f6004356000805460e060020a6370a08231026060908152600160a060020a03808516606452909116906370a082319060849060209060248187876161da5a03f115610002575050604051519392505050565b50604051602090f35b600160a060020a03166060908152602090f35b505060408051f3",
    address: "0xc8deac27394f3236336dabcc6b1b62270b2d477b",
    generated_with: "2.0.9",
    contract_name: "Organisation"
  };

  function Contract() {
    if (Contract.Pudding == null) {
      throw new Error("Organisation error: Please call load() first before creating new instance of this contract.");
    }

    Contract.Pudding.apply(this, arguments);
  };

  Contract.load = function(Pudding) {
    Contract.Pudding = Pudding;

    Pudding.whisk(contract_data, Contract);

    // Return itself for backwards compatibility.
    return Contract;
  }

  Contract.new = function() {
    if (Contract.Pudding == null) {
      throw new Error("Organisation error: Please call load() first before calling new().");
    }

    return Contract.Pudding.new.apply(Contract, arguments);
  };

  Contract.at = function() {
    if (Contract.Pudding == null) {
      throw new Error("Organisation error: Please call load() first before calling at().");
    }

    return Contract.Pudding.at.apply(Contract, arguments);
  };

  Contract.deployed = function() {
    if (Contract.Pudding == null) {
      throw new Error("Organisation error: Please call load() first before calling deployed().");
    }

    return Contract.Pudding.deployed.apply(Contract, arguments);
  };

  if (typeof module != "undefined" && typeof module.exports != "undefined") {
    module.exports = Contract;
  } else {
    // There will only be one version of Pudding in the browser,
    // and we can use that.
    window.Organisation = Contract;
  }

})();
