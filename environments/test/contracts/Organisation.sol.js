// Factory "morphs" into a Pudding class.
// The reasoning is that calling load in each context
// is cumbersome.

(function() {

  var contract_data = {
    abi: [{"constant":false,"inputs":[{"name":"_name","type":"bytes32"}],"name":"addProposal","outputs":[],"type":"function"},{"constant":true,"inputs":[],"name":"proposalsCount","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"_tokenLedger","type":"address"}],"name":"setTokenLedgerAddress","outputs":[],"type":"function"},{"constant":true,"inputs":[],"name":"tokenLedger","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":false,"inputs":[{"name":"_id","type":"uint256"},{"name":"_eth","type":"uint256"}],"name":"setProposalFund","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"_id","type":"uint256"},{"name":"_name","type":"bytes32"}],"name":"updateProposal","outputs":[],"type":"function"},{"constant":true,"inputs":[],"name":"eternalStorage","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":true,"inputs":[{"name":"_id","type":"uint256"}],"name":"getProposal","outputs":[{"name":"_name","type":"bytes32"},{"name":"_eth","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"_amount","type":"uint256"}],"name":"generateTokens","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"upgradedOrganisation_","type":"address"}],"name":"kill","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"_id","type":"uint256"}],"name":"fundProposal","outputs":[],"type":"function"},{"constant":true,"inputs":[{"name":"_account","type":"address"}],"name":"getBalance","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"inputs":[{"name":"_tokenLedger","type":"address"},{"name":"_eternalStorage","type":"address"}],"type":"constructor"}],
    binary: "6060604081815280610ebe833960a090525160805160008054600160a060020a0319168317905560a06108d780610063833901809050604051809103906000f060018054600160a060020a03191691909117905550506105848061093a6000396000f3606060405260008054600160a060020a031916331790556108b3806100246000396000f3606060405236156101115760e060020a6000350463025ec81a8114610113578063043106c01461012e5780630c55d92514610150578063124f24181461017257806317e7dd221461019457806325cf512d146101b15780633562fd20146101d65780633cc1635c146101fb5780633eba9ed21461021d57806344bfa56e146102425780634c77e5ba146102b95780635a2bf25a146102dc5780638267a9ee146103015780638da5cb5b146103235780639007127b1461033557806393fe42481461034f578063a209a29c14610371578063a6f9dae1146103e9578063a77aa49e1461040b578063ba69fcaa14610430578063bdc963d814610452578063c9a52d2c1461046c578063f5866066146104d0575b005b6105346004356000818152600560205260409020545b919050565b610111600435600054600160a060020a0390811633909116146105e557610002565b610111600435600054600160a060020a03908116339091161461060357610002565b610111600435600054600160a060020a03908116339091161461066b57610002565b61054660043560008181526006602052604090205460ff16610129565b610111600435602435600054600160a060020a03908116339091161461067c57610002565b610111600435602435600054600160a060020a03908116339091161461068e57610002565b610111600435600054600160a060020a0390811633909116146106a057610002565b610111600435602435600054600160a060020a0390811633909116146106b857610002565b61055a60043560408051602081810183526000808352848152600482528390208054845160026001831615610100026000190190921691909104601f8101849004840282018401909552848152929390918301828280156106ff5780601f106106d4576101008083540402835291602001916106ff565b6105c8600435600081815260036020526040902054600160a060020a0316610129565b610111600435602435600054600160a060020a03908116339091161461070b57610002565b610111600435600054600160a060020a03908116339091161461072d57610002565b6105c8600054600160a060020a031681565b610534600435600081815260076020526040902054610129565b610111600435600054600160a060020a03908116339091161461073e57610002565b61055a60043560408051602081810183526000808352848152600280835290849020805485516001821615610100026000190190911692909204601f810184900484028301840190955284825292939092918301828280156106ff5780601f106106d4576101008083540402835291602001916106ff565b610111600435600054600160a060020a03908116339091161461074f57610002565b610111600435602435600054600160a060020a03908116339091161461077b57610002565b610111600435600054600160a060020a03908116339091161461078d57610002565b610534600435600081815260016020526040902054610129565b60408051602060046024803582810135601f8101859004850286018501909652858552610111958335959394604494939290920191819084018382808284375094965050505050505060005433600160a060020a039081169116146107c157610002565b60408051602060046024803582810135601f8101859004850286018501909652858552610111958335959394604494939290920191819084018382808284375094965050505050505060005433600160a060020a0390811691161461085b57610002565b60408051918252519081900360200190f35b604080519115158252519081900360200190f35b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156105ba5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b60408051600160a060020a03929092168252519081900360200190f35b60009081526003602052604090208054600160a060020a0319169055565b600081815260046020526040812080549181559060026001821615610100026000190190911604601f81901061063957505b5050565b601f01602090049060005260206000209081019061063591905b808211156106675760008155600101610653565b5090565b600090815260056020526040812055565b60009182526005602052604090912055565b60009182526001602052604090912055565b6000908152600660205260409020805460ff19169055565b6000828152600660205260409020805460ff1916821790555050565b820191906000526020600020905b8154815290600101906020018083116106e257829003601f168201915b50505050509050610129565b60008281526003602052604090208054600160a060020a031916821790555050565b600090815260076020526040812055565b600090815260016020526040812055565b80600160a060020a03166000141561076657610002565b60008054600160a060020a0319168217905550565b60009182526007602052604090912055565b60008181526002602081905260408220805492815591600181161561010002600019011604601f8190106106395750610635565b600082815260046020908152604082208054845182855293839020919360026001831615610100026000190190921691909104601f90810184900483019391929186019083901061082557805160ff19168380011785555b50610855929150610653565b82800160010185558215610819579182015b82811115610819578251826000505591602001919060010190610837565b50505050565b60008281526002602081815260408320805485518286529483902091946001821615610100026000190190911693909304601f9081018390048201939286019083901061082557805160ff191683800117855561081956606060405236156100985760e060020a600035046306efe3b0811461009a5780630a9f46ad1461011357806314d31d031461018d5780633886c957146101b3578063460a7050146101c55780635ba217711461024757806398ff9c54146102c9578063c7f758a8146102db578063ca01ba391461036c578063cbf0b0c0146103cd578063e210f4b514610492578063f8b2cb4f1461050b575b005b6100986004356001547fadd3d815000000000000000000000000000000000000000000000000000000006060908152600160a060020a03919091166064526084829052733ef427e60c3239e3399536a37ec737602e3fe4169063add3d8159060a4906000906044818660325a03f4156100025750505050565b6105606001547fa1bfcaca000000000000000000000000000000000000000000000000000000006060908152600160a060020a0391909116606452600090733ef427e60c3239e3399536a37ec737602e3fe4169063a1bfcaca906084906020906024818660325a03f4156100025750506040515191505090565b6000805473ffffffffffffffffffffffffffffffffffffffff1916600435179055610098565b610569600054600160a060020a031681565b6100986004356024356001547f2197b15b000000000000000000000000000000000000000000000000000000006060908152600160a060020a03919091166064908152608484905260a4839052733ef427e60c3239e3399536a37ec737602e3fe41691632197b15b9160c491600091818660325a03f415610002575050505050565b6100986004356024356001547f46002cad000000000000000000000000000000000000000000000000000000006060908152600160a060020a03919091166064908152608484905260a4839052733ef427e60c3239e3399536a37ec737602e3fe416916346002cad9160c491600091818660325a03f415610002575050505050565b610569600154600160a060020a031681565b61057c6004356001547fcfa38da7000000000000000000000000000000000000000000000000000000006060908152600160a060020a039190911660645260848290526000908190733ef427e60c3239e3399536a37ec737602e3fe4169063cfa38da79060a4906040906044818660325a03f415610002575050604051805160209190910151909350915050915091565b610098600435600080547fca01ba390000000000000000000000000000000000000000000000000000000060609081526064849052600160a060020a039091169163ca01ba39916084919060248183876161da5a03f1156100025750505050565b6100986004356000805460e060020a6370a0823102606090815230600160a060020a03908116606452909116906370a082319060849060209060248187876161da5a03f11561000257505060408051805184547fa9059cbb000000000000000000000000000000000000000000000000000000008352600160a060020a03808816600485015260248401839052935191959316935063a9059cbb92604480840193919291829003018183876161da5a03f1156100025750505081600160a060020a0316ff5b6100986004356001547f674bb2fb000000000000000000000000000000000000000000000000000000006060908152600160a060020a03919091166064526084829052733ef427e60c3239e3399536a37ec737602e3fe4169063674bb2fb9060a4906000906044818660325a03f4156100025750505050565b6105606004356000805460e060020a6370a08231026060908152600160a060020a03808516606452909116906370a082319060849060209060248187876161da5a03f115610002575050604051519392505050565b50604051602090f35b600160a060020a03166060908152602090f35b505060408051f3",
    unlinked_binary: "6060604081815280610ebe833960a090525160805160008054600160a060020a0319168317905560a06108d780610063833901809050604051809103906000f060018054600160a060020a03191691909117905550506105848061093a6000396000f3606060405260008054600160a060020a031916331790556108b3806100246000396000f3606060405236156101115760e060020a6000350463025ec81a8114610113578063043106c01461012e5780630c55d92514610150578063124f24181461017257806317e7dd221461019457806325cf512d146101b15780633562fd20146101d65780633cc1635c146101fb5780633eba9ed21461021d57806344bfa56e146102425780634c77e5ba146102b95780635a2bf25a146102dc5780638267a9ee146103015780638da5cb5b146103235780639007127b1461033557806393fe42481461034f578063a209a29c14610371578063a6f9dae1146103e9578063a77aa49e1461040b578063ba69fcaa14610430578063bdc963d814610452578063c9a52d2c1461046c578063f5866066146104d0575b005b6105346004356000818152600560205260409020545b919050565b610111600435600054600160a060020a0390811633909116146105e557610002565b610111600435600054600160a060020a03908116339091161461060357610002565b610111600435600054600160a060020a03908116339091161461066b57610002565b61054660043560008181526006602052604090205460ff16610129565b610111600435602435600054600160a060020a03908116339091161461067c57610002565b610111600435602435600054600160a060020a03908116339091161461068e57610002565b610111600435600054600160a060020a0390811633909116146106a057610002565b610111600435602435600054600160a060020a0390811633909116146106b857610002565b61055a60043560408051602081810183526000808352848152600482528390208054845160026001831615610100026000190190921691909104601f8101849004840282018401909552848152929390918301828280156106ff5780601f106106d4576101008083540402835291602001916106ff565b6105c8600435600081815260036020526040902054600160a060020a0316610129565b610111600435602435600054600160a060020a03908116339091161461070b57610002565b610111600435600054600160a060020a03908116339091161461072d57610002565b6105c8600054600160a060020a031681565b610534600435600081815260076020526040902054610129565b610111600435600054600160a060020a03908116339091161461073e57610002565b61055a60043560408051602081810183526000808352848152600280835290849020805485516001821615610100026000190190911692909204601f810184900484028301840190955284825292939092918301828280156106ff5780601f106106d4576101008083540402835291602001916106ff565b610111600435600054600160a060020a03908116339091161461074f57610002565b610111600435602435600054600160a060020a03908116339091161461077b57610002565b610111600435600054600160a060020a03908116339091161461078d57610002565b610534600435600081815260016020526040902054610129565b60408051602060046024803582810135601f8101859004850286018501909652858552610111958335959394604494939290920191819084018382808284375094965050505050505060005433600160a060020a039081169116146107c157610002565b60408051602060046024803582810135601f8101859004850286018501909652858552610111958335959394604494939290920191819084018382808284375094965050505050505060005433600160a060020a0390811691161461085b57610002565b60408051918252519081900360200190f35b604080519115158252519081900360200190f35b60405180806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156105ba5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b60408051600160a060020a03929092168252519081900360200190f35b60009081526003602052604090208054600160a060020a0319169055565b600081815260046020526040812080549181559060026001821615610100026000190190911604601f81901061063957505b5050565b601f01602090049060005260206000209081019061063591905b808211156106675760008155600101610653565b5090565b600090815260056020526040812055565b60009182526005602052604090912055565b60009182526001602052604090912055565b6000908152600660205260409020805460ff19169055565b6000828152600660205260409020805460ff1916821790555050565b820191906000526020600020905b8154815290600101906020018083116106e257829003601f168201915b50505050509050610129565b60008281526003602052604090208054600160a060020a031916821790555050565b600090815260076020526040812055565b600090815260016020526040812055565b80600160a060020a03166000141561076657610002565b60008054600160a060020a0319168217905550565b60009182526007602052604090912055565b60008181526002602081905260408220805492815591600181161561010002600019011604601f8190106106395750610635565b600082815260046020908152604082208054845182855293839020919360026001831615610100026000190190921691909104601f90810184900483019391929186019083901061082557805160ff19168380011785555b50610855929150610653565b82800160010185558215610819579182015b82811115610819578251826000505591602001919060010190610837565b50505050565b60008281526002602081815260408320805485518286529483902091946001821615610100026000190190911693909304601f9081018390048201939286019083901061082557805160ff191683800117855561081956606060405236156100985760e060020a600035046306efe3b0811461009a5780630a9f46ad1461011357806314d31d031461018d5780633886c957146101b3578063460a7050146101c55780635ba217711461024757806398ff9c54146102c9578063c7f758a8146102db578063ca01ba391461036c578063cbf0b0c0146103cd578063e210f4b514610492578063f8b2cb4f1461050b575b005b6100986004356001547fadd3d815000000000000000000000000000000000000000000000000000000006060908152600160a060020a0391909116606452608482905273__ProposalsLibrary______________________9063add3d8159060a4906000906044818660325a03f4156100025750505050565b6105606001547fa1bfcaca000000000000000000000000000000000000000000000000000000006060908152600160a060020a039190911660645260009073__ProposalsLibrary______________________9063a1bfcaca906084906020906024818660325a03f4156100025750506040515191505090565b6000805473ffffffffffffffffffffffffffffffffffffffff1916600435179055610098565b610569600054600160a060020a031681565b6100986004356024356001547f2197b15b000000000000000000000000000000000000000000000000000000006060908152600160a060020a03919091166064908152608484905260a483905273__ProposalsLibrary______________________91632197b15b9160c491600091818660325a03f415610002575050505050565b6100986004356024356001547f46002cad000000000000000000000000000000000000000000000000000000006060908152600160a060020a03919091166064908152608484905260a483905273__ProposalsLibrary______________________916346002cad9160c491600091818660325a03f415610002575050505050565b610569600154600160a060020a031681565b61057c6004356001547fcfa38da7000000000000000000000000000000000000000000000000000000006060908152600160a060020a03919091166064526084829052600090819073__ProposalsLibrary______________________9063cfa38da79060a4906040906044818660325a03f415610002575050604051805160209190910151909350915050915091565b610098600435600080547fca01ba390000000000000000000000000000000000000000000000000000000060609081526064849052600160a060020a039091169163ca01ba39916084919060248183876161da5a03f1156100025750505050565b6100986004356000805460e060020a6370a0823102606090815230600160a060020a03908116606452909116906370a082319060849060209060248187876161da5a03f11561000257505060408051805184547fa9059cbb000000000000000000000000000000000000000000000000000000008352600160a060020a03808816600485015260248401839052935191959316935063a9059cbb92604480840193919291829003018183876161da5a03f1156100025750505081600160a060020a0316ff5b6100986004356001547f674bb2fb000000000000000000000000000000000000000000000000000000006060908152600160a060020a0391909116606452608482905273__ProposalsLibrary______________________9063674bb2fb9060a4906000906044818660325a03f4156100025750505050565b6105606004356000805460e060020a6370a08231026060908152600160a060020a03808516606452909116906370a082319060849060209060248187876161da5a03f115610002575050604051519392505050565b50604051602090f35b600160a060020a03166060908152602090f35b505060408051f3",
    address: "0xcc73f11d876a04e015d27d3aa04229877077734d",
    generated_with: "2.0.9",
    contract_name: "Organisation"
  };

  function Contract() {
    if (Contract.Pudding == null) {
      throw new Error("Organisation error: Please call load() first before creating new instance of this contract.");
    }

    Contract.Pudding.apply(this, arguments);
  };

  Contract.load = function(Pudding) {
    Contract.Pudding = Pudding;

    Pudding.whisk(contract_data, Contract);

    // Return itself for backwards compatibility.
    return Contract;
  }

  Contract.new = function() {
    if (Contract.Pudding == null) {
      throw new Error("Organisation error: Please call load() first before calling new().");
    }

    return Contract.Pudding.new.apply(Contract, arguments);
  };

  Contract.at = function() {
    if (Contract.Pudding == null) {
      throw new Error("Organisation error: Please call load() first before calling at().");
    }

    return Contract.Pudding.at.apply(Contract, arguments);
  };

  Contract.deployed = function() {
    if (Contract.Pudding == null) {
      throw new Error("Organisation error: Please call load() first before calling deployed().");
    }

    return Contract.Pudding.deployed.apply(Contract, arguments);
  };

  if (typeof module != "undefined" && typeof module.exports != "undefined") {
    module.exports = Contract;
  } else {
    // There will only be one version of Pudding in the browser,
    // and we can use that.
    window.Organisation = Contract;
  }

})();
