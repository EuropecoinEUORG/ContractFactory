// Factory "morphs" into a Pudding class.
// The reasoning is that calling load in each context
// is cumbersome.

(function() {

  var contract_data = {
    abi: [{"constant":false,"inputs":[{"name":"_name","type":"bytes32"}],"name":"addProposal","outputs":[],"type":"function"},{"constant":true,"inputs":[],"name":"proposalsCount","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":true,"inputs":[],"name":"tokenLedger","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":false,"inputs":[{"name":"_id","type":"uint256"},{"name":"_eth","type":"uint256"}],"name":"setProposalFund","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"_id","type":"uint256"},{"name":"_name","type":"bytes32"}],"name":"updateProposal","outputs":[],"type":"function"},{"constant":true,"inputs":[],"name":"eternalStorage","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":true,"inputs":[{"name":"_id","type":"uint256"}],"name":"getProposal","outputs":[{"name":"_name","type":"bytes32"},{"name":"_eth","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"_amount","type":"uint256"}],"name":"generateTokens","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"upgradedOrganisation_","type":"address"}],"name":"kill","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"_id","type":"uint256"}],"name":"fundProposal","outputs":[],"type":"function"},{"constant":true,"inputs":[{"name":"_account","type":"address"}],"name":"getBalance","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"inputs":[{"name":"_tokenLedger","type":"address"},{"name":"_eternalStorage","type":"address"}],"type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"id","type":"uint256"},{"indexed":false,"name":"when","type":"uint256"}],"name":"ProposalAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"id","type":"uint256"},{"indexed":false,"name":"when","type":"uint256"}],"name":"ProposalUpdated","type":"event"}],
    binary: "6060604081815280610824833960a090525160805160008054600160a060020a03199081168417909155600180549091168217905550506107e0806100446000396000f36060604052361561008d5760e060020a600035046306efe3b0811461008f5780630a9f46ad1461009f5780633886c95714610128578063460a70501461013a5780635ba21771146101c457806398ff9c5414610289578063c7f758a81461029b578063ca01ba39146103bd578063cbf0b0c014610427578063e210f4b5146104f9578063f8b2cb4f1461057e575b005b61008d60043560006106286100a3565b6105e05b600154604080517f50726f706f73616c436f756e74000000000000000000000000000000000000008152815190819003600d01812060e360020a6317b92c7b02825260048201529051600092600160a060020a03169163bdc963d8916024828101926020929190829003018187876161da5a03f1156100025750506040515191505090565b6105f2600054600160a060020a031681565b61008d6004356024356001546040805160a360020a6b0e0e4dee0dee6c2d8becae8d028152600c8101859052815190819003602c01812060e560020a6301ab17e90282526004820152602481018490529051600160a060020a039290921691633562fd2091604481810192600092909190829003018183876161da5a03f115610002575050505050565b61008d60043560243560015460408051609860020a6c70726f706f73616c5f6e616d65028152600d8101859052815190819003602d01812060e060020a6325cf512d0282526004820152602481018490529051600160a060020a0392909216916325cf512d91604481810192600092909190829003018183876161da5a03f1156100025750506040805184815242602082015281517fd0d48d54a7ebcfcfd76018524c8d822767ac6f81ca7171b01511c2b53b35971a93509081900390910190a15050565b6105f2600154600160a060020a031681565b61060f60043560015460408051609860020a6c70726f706f73616c5f6e616d65028152600d8101849052815190819003602d0181207f025ec81a00000000000000000000000000000000000000000000000000000000825260048201529051600092839283928392600160a060020a03169163025ec81a916024828101926020929190829003018187876161da5a03f11561000257505060408051805160015460a360020a6b0e0e4dee0dee6c2d8becae8d028352600c83018a9052835192839003602c01832060e360020a6317b92c7b02845260048401529251909550600160a060020a0392909216925063bdc963d8916024828101926020929190829003018187876161da5a03f115610002575050604051519296929550919350505050565b61008d60043560008054604080517fca01ba39000000000000000000000000000000000000000000000000000000008152600481018590529051600160a060020a039092169263ca01ba3992602483810193829003018183876161da5a03f1156100025750505050565b61008d600435600080546040805160e060020a6370a0823102815230600160a060020a039081166004830152915191909216916370a08231916024828101926020929190829003018187876161da5a03f11561000257505060408051805184547fa9059cbb000000000000000000000000000000000000000000000000000000008352600160a060020a03878116600485015260248401839052935191959316935063a9059cbb92604480840193919291829003018183876161da5a03f1156100025750505081600160a060020a0316ff5b61008d6004356001546040805160a360020a6b0e0e4dee0dee6c2d8becae8d028152600c8101849052815190819003602c01812060e560020a6301ab17e902825260048201523460248201529051600160a060020a039290921691633562fd2091604481810192600092909190829003018183876161da5a03f1156100025750505050565b6105e0600435600080546040805160e060020a6370a08231028152600160a060020a038581166004830152915191909216916370a08231916024828101926020929190829003018187876161da5a03f115610002575050604051519392505050565b60408051918252519081900360200190f35b60408051600160a060020a03929092168252519081900360200190f35b6040805192835260208301919091528051918290030190f35b60408051600154609860020a6c70726f706f73616c5f6e616d65028252600d8201849052825191829003602d01822060e060020a6325cf512d0283526004830152602482018690529151929350600160a060020a0391909116916325cf512d91604481810192600092909190829003018183876161da5a03f1156100025750506040805160015460a360020a6b0e0e4dee0dee6c2d8becae8d028252600c8201859052825191829003602c01822060e560020a6301ab17e902835260048301526000602483018190529251600160a060020a03919091169350633562fd2092604483810193919291829003018183876161da5a03f115610002575060018054604080517f50726f706f73616c436f756e74000000000000000000000000000000000000008152815190819003600d01812060e560020a6301ab17e90282526004820152928601602484015251600160a060020a039190911693506044828101926000929190829003018183876161da5a03f1156100025750506040805183815242602082015281517fcf9af864fe793f8ab30e13cdc3475afd6ccb7896eef43ce2aaecaa97711310ad93509081900390910190a1505056",
    unlinked_binary: "6060604081815280610824833960a090525160805160008054600160a060020a03199081168417909155600180549091168217905550506107e0806100446000396000f36060604052361561008d5760e060020a600035046306efe3b0811461008f5780630a9f46ad1461009f5780633886c95714610128578063460a70501461013a5780635ba21771146101c457806398ff9c5414610289578063c7f758a81461029b578063ca01ba39146103bd578063cbf0b0c014610427578063e210f4b5146104f9578063f8b2cb4f1461057e575b005b61008d60043560006106286100a3565b6105e05b600154604080517f50726f706f73616c436f756e74000000000000000000000000000000000000008152815190819003600d01812060e360020a6317b92c7b02825260048201529051600092600160a060020a03169163bdc963d8916024828101926020929190829003018187876161da5a03f1156100025750506040515191505090565b6105f2600054600160a060020a031681565b61008d6004356024356001546040805160a360020a6b0e0e4dee0dee6c2d8becae8d028152600c8101859052815190819003602c01812060e560020a6301ab17e90282526004820152602481018490529051600160a060020a039290921691633562fd2091604481810192600092909190829003018183876161da5a03f115610002575050505050565b61008d60043560243560015460408051609860020a6c70726f706f73616c5f6e616d65028152600d8101859052815190819003602d01812060e060020a6325cf512d0282526004820152602481018490529051600160a060020a0392909216916325cf512d91604481810192600092909190829003018183876161da5a03f1156100025750506040805184815242602082015281517fd0d48d54a7ebcfcfd76018524c8d822767ac6f81ca7171b01511c2b53b35971a93509081900390910190a15050565b6105f2600154600160a060020a031681565b61060f60043560015460408051609860020a6c70726f706f73616c5f6e616d65028152600d8101849052815190819003602d0181207f025ec81a00000000000000000000000000000000000000000000000000000000825260048201529051600092839283928392600160a060020a03169163025ec81a916024828101926020929190829003018187876161da5a03f11561000257505060408051805160015460a360020a6b0e0e4dee0dee6c2d8becae8d028352600c83018a9052835192839003602c01832060e360020a6317b92c7b02845260048401529251909550600160a060020a0392909216925063bdc963d8916024828101926020929190829003018187876161da5a03f115610002575050604051519296929550919350505050565b61008d60043560008054604080517fca01ba39000000000000000000000000000000000000000000000000000000008152600481018590529051600160a060020a039092169263ca01ba3992602483810193829003018183876161da5a03f1156100025750505050565b61008d600435600080546040805160e060020a6370a0823102815230600160a060020a039081166004830152915191909216916370a08231916024828101926020929190829003018187876161da5a03f11561000257505060408051805184547fa9059cbb000000000000000000000000000000000000000000000000000000008352600160a060020a03878116600485015260248401839052935191959316935063a9059cbb92604480840193919291829003018183876161da5a03f1156100025750505081600160a060020a0316ff5b61008d6004356001546040805160a360020a6b0e0e4dee0dee6c2d8becae8d028152600c8101849052815190819003602c01812060e560020a6301ab17e902825260048201523460248201529051600160a060020a039290921691633562fd2091604481810192600092909190829003018183876161da5a03f1156100025750505050565b6105e0600435600080546040805160e060020a6370a08231028152600160a060020a038581166004830152915191909216916370a08231916024828101926020929190829003018187876161da5a03f115610002575050604051519392505050565b60408051918252519081900360200190f35b60408051600160a060020a03929092168252519081900360200190f35b6040805192835260208301919091528051918290030190f35b60408051600154609860020a6c70726f706f73616c5f6e616d65028252600d8201849052825191829003602d01822060e060020a6325cf512d0283526004830152602482018690529151929350600160a060020a0391909116916325cf512d91604481810192600092909190829003018183876161da5a03f1156100025750506040805160015460a360020a6b0e0e4dee0dee6c2d8becae8d028252600c8201859052825191829003602c01822060e560020a6301ab17e902835260048301526000602483018190529251600160a060020a03919091169350633562fd2092604483810193919291829003018183876161da5a03f115610002575060018054604080517f50726f706f73616c436f756e74000000000000000000000000000000000000008152815190819003600d01812060e560020a6301ab17e90282526004820152928601602484015251600160a060020a039190911693506044828101926000929190829003018183876161da5a03f1156100025750506040805183815242602082015281517fcf9af864fe793f8ab30e13cdc3475afd6ccb7896eef43ce2aaecaa97711310ad93509081900390910190a1505056",
    address: "0x54f9bb5f1952b278f8a1ca08b0bf6c8fc286cd44",
    generated_with: "2.0.9",
    contract_name: "Organisation"
  };

  function Contract() {
    if (Contract.Pudding == null) {
      throw new Error("Organisation error: Please call load() first before creating new instance of this contract.");
    }

    Contract.Pudding.apply(this, arguments);
  };

  Contract.load = function(Pudding) {
    Contract.Pudding = Pudding;

    Pudding.whisk(contract_data, Contract);

    // Return itself for backwards compatibility.
    return Contract;
  }

  Contract.new = function() {
    if (Contract.Pudding == null) {
      throw new Error("Organisation error: Please call load() first before calling new().");
    }

    return Contract.Pudding.new.apply(Contract, arguments);
  };

  Contract.at = function() {
    if (Contract.Pudding == null) {
      throw new Error("Organisation error: Please call load() first before calling at().");
    }

    return Contract.Pudding.at.apply(Contract, arguments);
  };

  Contract.deployed = function() {
    if (Contract.Pudding == null) {
      throw new Error("Organisation error: Please call load() first before calling deployed().");
    }

    return Contract.Pudding.deployed.apply(Contract, arguments);
  };

  if (typeof module != "undefined" && typeof module.exports != "undefined") {
    module.exports = Contract;
  } else {
    // There will only be one version of Pudding in the browser,
    // and we can use that.
    window.Organisation = Contract;
  }

})();
