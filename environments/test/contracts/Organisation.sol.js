// Factory "morphs" into a Pudding class.
// The reasoning is that calling load in each context
// is cumbersome.

(function() {

  var contract_data = {
    abi: [{"constant":false,"inputs":[{"name":"_id","type":"uint256"}],"name":"acceptTask","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"taskId","type":"uint256"}],"name":"contributeEth","outputs":[],"type":"function"},{"constant":true,"inputs":[],"name":"taskDB","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":false,"inputs":[{"name":"taskId","type":"uint256"},{"name":"shares","type":"uint256"}],"name":"contributeShares","outputs":[],"type":"function"},{"constant":true,"inputs":[{"name":"userAddress","type":"address"}],"name":"getUserInfo","outputs":[{"name":"admin","type":"bool"}],"type":"function"},{"constant":false,"inputs":[{"name":"_name","type":"string"},{"name":"_summary","type":"string"}],"name":"makeTask","outputs":[],"type":"function"},{"constant":true,"inputs":[],"name":"parentResolver","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"users","outputs":[{"name":"admin","type":"bool"}],"type":"function"},{"constant":false,"inputs":[{"name":"_id","type":"uint256"},{"name":"_name","type":"string"},{"name":"_summary","type":"string"}],"name":"updateTask","outputs":[],"type":"function"},{"constant":true,"inputs":[],"name":"shareLedger","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":false,"inputs":[{"name":"_tasksDBAddress","type":"address"}],"name":"registerTaskDB","outputs":[],"type":"function"},{"inputs":[{"name":"ParentResolverAddress_","type":"address"},{"name":"_shareLedgerAddress","type":"address"},{"name":"_tasksDBAddress","type":"address"}],"type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":true,"name":"_ethValue","type":"uint256"},{"indexed":true,"name":"_sharesValue","type":"uint256"}],"name":"TaskCompletedAndPaid","type":"event"}],
    binary: "606060405260405160608061077a83395060c06040525160805160a051600160a060020a0332166000908152600360205260408120805460ff191660019081179091558154600160a060020a0319908116861790925580548216841790556002805490911682179055505050610701806100796000396000f36060604052361561008d5760e060020a60003504631bf6912d811461008f578063352d722f146100f15780634f6765d71461014c5780635b28e4451461015e5780636386c1c7146101bc5780636d2d4bac146101e55780638f4182f714610386578063a87430ba14610398578063c72ef41f146103b3578063d97b94e914610563578063f08762e214610575575b005b61008d6004356002547f1bf6912d0000000000000000000000000000000000000000000000000000000060609081526064839052600160a060020a0390911690631bf6912d9060849060009060248183876161da5a03f1156100025750505050565b61008d60043560025460e160020a6351ce2f9f0260609081526064839052600091600160a060020a03169063a39c5f3e9060849060209060248187876161da5a03f1156100025750506040515191505080156105ae57610002565b61059b600254600160a060020a031681565b61008d60043560243560025460e160020a6351ce2f9f0260609081526064849052600091600160a060020a03169063a39c5f3e9060849060209060248187876161da5a03f11561000257505060405151915050801561061f57610002565b600160a060020a036004351660009081526003602052604090205460ff165b6060908152602090f35b60206004803580820135601f81018490049093026080908101604052606084815261008d9460249391929184019181908382808284375050604080516020601f8935808c01359182018390048302840183019094528083529799986044989297509290920194509250829150840183828082843750949650505050505050600254604080517f6d2d4bac0000000000000000000000000000000000000000000000000000000081526004818101928352855160448301528551600160a060020a039490941693636d2d4bac93879387939192839260248301926064019160809181908490829085906000906020601f850104600f02600301f150905090810190601f1680156103085780820380516001836020036101000a031916815260200191505b508381038252848181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156103615780820380516001836020036101000a031916815260200191505b509450505050506000604051808303816000876161da5a03f115610002575050505050565b61059b600054600160a060020a031681565b6101db60043560036020526000908152604090205460ff1681565b6080602060248035600481810135601f81018590049094028501604052606084815261008d958235959294604494929392019190819083828082843750506040805160209735808a0135601f81018a90048a0283018a019093528282529698976064979196506024919091019450909250829150840183828082843750506002546040517fc72ef41f0000000000000000000000000000000000000000000000000000000081528089018b8152602482018b81528b51998301999099528a519799600160a060020a03939093169863c72ef41f988d98508c97508b96509194509260448301926084019160809181908490829085906000906003600f6020601f8701040201f150905090810190601f1680156104e35780820380516001836020036101000a031916815260200191505b508381038252848181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f16801561053c5780820380516001836020036101000a031916815260200191505b50955050505050506000604051808303816000876161da5a03f11561000257505050505050565b61059b600154600160a060020a031681565b6002805473ffffffffffffffffffffffffffffffffffffffff191660043517905561008d565b600160a060020a03166060908152602090f35b604080516002547f35960812000000000000000000000000000000000000000000000000000000008252600482018590523460248301529151600160a060020a039290921691633596081291604481810192600092909190829003018183876161da5a03f115610002575050505050565b604080516002547f5b28e44500000000000000000000000000000000000000000000000000000000825260048201869052602482018590529151600160a060020a039290921691635b28e44591604481810192600092909190829003018183876161da5a03f115610002575050600154604080517fa9059cbb00000000000000000000000000000000000000000000000000000000815230600160a060020a03908116600483015260248201879052915192909116925063a9059cbb916044828101926000929190829003018183876161da5a03f1156100025750505050505056",
    unlinked_binary: "606060405260405160608061077a83395060c06040525160805160a051600160a060020a0332166000908152600360205260408120805460ff191660019081179091558154600160a060020a0319908116861790925580548216841790556002805490911682179055505050610701806100796000396000f36060604052361561008d5760e060020a60003504631bf6912d811461008f578063352d722f146100f15780634f6765d71461014c5780635b28e4451461015e5780636386c1c7146101bc5780636d2d4bac146101e55780638f4182f714610386578063a87430ba14610398578063c72ef41f146103b3578063d97b94e914610563578063f08762e214610575575b005b61008d6004356002547f1bf6912d0000000000000000000000000000000000000000000000000000000060609081526064839052600160a060020a0390911690631bf6912d9060849060009060248183876161da5a03f1156100025750505050565b61008d60043560025460e160020a6351ce2f9f0260609081526064839052600091600160a060020a03169063a39c5f3e9060849060209060248187876161da5a03f1156100025750506040515191505080156105ae57610002565b61059b600254600160a060020a031681565b61008d60043560243560025460e160020a6351ce2f9f0260609081526064849052600091600160a060020a03169063a39c5f3e9060849060209060248187876161da5a03f11561000257505060405151915050801561061f57610002565b600160a060020a036004351660009081526003602052604090205460ff165b6060908152602090f35b60206004803580820135601f81018490049093026080908101604052606084815261008d9460249391929184019181908382808284375050604080516020601f8935808c01359182018390048302840183019094528083529799986044989297509290920194509250829150840183828082843750949650505050505050600254604080517f6d2d4bac0000000000000000000000000000000000000000000000000000000081526004818101928352855160448301528551600160a060020a039490941693636d2d4bac93879387939192839260248301926064019160809181908490829085906000906020601f850104600f02600301f150905090810190601f1680156103085780820380516001836020036101000a031916815260200191505b508381038252848181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156103615780820380516001836020036101000a031916815260200191505b509450505050506000604051808303816000876161da5a03f115610002575050505050565b61059b600054600160a060020a031681565b6101db60043560036020526000908152604090205460ff1681565b6080602060248035600481810135601f81018590049094028501604052606084815261008d958235959294604494929392019190819083828082843750506040805160209735808a0135601f81018a90048a0283018a019093528282529698976064979196506024919091019450909250829150840183828082843750506002546040517fc72ef41f0000000000000000000000000000000000000000000000000000000081528089018b8152602482018b81528b51998301999099528a519799600160a060020a03939093169863c72ef41f988d98508c97508b96509194509260448301926084019160809181908490829085906000906003600f6020601f8701040201f150905090810190601f1680156104e35780820380516001836020036101000a031916815260200191505b508381038252848181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f16801561053c5780820380516001836020036101000a031916815260200191505b50955050505050506000604051808303816000876161da5a03f11561000257505050505050565b61059b600154600160a060020a031681565b6002805473ffffffffffffffffffffffffffffffffffffffff191660043517905561008d565b600160a060020a03166060908152602090f35b604080516002547f35960812000000000000000000000000000000000000000000000000000000008252600482018590523460248301529151600160a060020a039290921691633596081291604481810192600092909190829003018183876161da5a03f115610002575050505050565b604080516002547f5b28e44500000000000000000000000000000000000000000000000000000000825260048201869052602482018590529151600160a060020a039290921691635b28e44591604481810192600092909190829003018183876161da5a03f115610002575050600154604080517fa9059cbb00000000000000000000000000000000000000000000000000000000815230600160a060020a03908116600483015260248201879052915192909116925063a9059cbb916044828101926000929190829003018183876161da5a03f1156100025750505050505056",
    address: "0x471333cbb6dd46a51e113ad4f2d2f6ab29c7e320",
    generated_with: "2.0.6",
    contract_name: "Organisation"
  };

  function Contract() {
    if (Contract.Pudding == null) {
      throw new Error("Organisation error: Please call load() first before creating new instance of this contract.");
    }

    Contract.Pudding.apply(this, arguments);
  };

  Contract.load = function(Pudding) {
    Contract.Pudding = Pudding;

    Pudding.whisk(contract_data, Contract);

    // Return itself for backwards compatibility.
    return Contract;
  }

  Contract.new = function() {
    if (Contract.Pudding == null) {
      throw new Error("Organisation error: Please call load() first before calling new().");
    }

    return Contract.Pudding.new.apply(Contract, arguments);
  };

  Contract.at = function() {
    if (Contract.Pudding == null) {
      throw new Error("Organisation error: lease call load() first before calling at().");
    }

    return Contract.Pudding.at.apply(Contract, arguments);
  };

  Contract.deployed = function() {
    if (Contract.Pudding == null) {
      throw new Error("Organisation error: Please call load() first before calling deployed().");
    }

    return Contract.Pudding.deployed.apply(Contract, arguments);
  };

  if (typeof module != "undefined" && typeof module.exports != "undefined") {
    module.exports = Contract;
  } else {
    // There will only be one version of Pudding in the browser,
    // and we can use that.
    window.Organisation = Contract;
  }

})();
